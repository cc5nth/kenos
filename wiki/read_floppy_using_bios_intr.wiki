#summary how to read floppy in rm, using bois interrupt 0x13


<wiki:toc max_depth="1" />

= Instruction details =

|| intr Nr: || registers || for ||
|| 0x13     || ah = 0x0  || reset ||
|| 0x13     || ah = 0x2  al <- read Nr sectors, <br>dh <- Head Nr, dl<- drive Nr, <br>ch <- cylinder Nr, cl <- beginning sector Nr, <br>es:bx <- buffer || read from floopy to buffer ||

= Floppy structure =

2 x 80 x 18 x 512 = 1.44 MB

== details ==
2 Heads
80 Cylinders / H
18 Sectors / C
512 bytes/S

= code =
{{{
/*
Assume sector number is 'x' (stored in %ax in this case), then:
x / (BPB_SecPerTrk) = y,
x % (BPB_SecPerTrk) = z.
       
     The remainder 'z' PLUS 1 is the start sector number;
     z + 1 -> the start-sector number
     
     The quotient 'y' devide by BPB_NumHeads(RIGHT SHIFT 1 bit) is cylinder 
     number;
     y >> 1 -> cylinder number
     y & 1 -> magnetic header number.
*/
}}}


= Reference =
http://en.wikipedia.org/wiki/INT_13
http://en.wikipedia.org/wiki/BIOS_call